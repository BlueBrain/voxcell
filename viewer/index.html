<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>BrainBuilder Pointcloud Viewer</title>

  <style>
    body {margin:0; padding:0; background-color:black}
    canvas {width:100%; height:100%;}
  </style>

  <style type="text/css"></style>
</head>

<body>
  <div id="info">MOVE mouse &amp; press LEFT/A: rotate, MIDDLE/S: zoom, RIGHT/D: pan</div>
  <div id="container"></div>
  <div id="menu"></div>

  <script src="./js/jquery.min.js"></script>
  <script src="./js/lodash-2.4.1.js"></script>
  <script src="./js/Detector.js"></script>
  <script src="./js/three.min.js"></script>
  <script src="./js/stats.min.js"></script>
  <script src="./js/TrackballControls.js"></script>
  <script src="./js/dat.gui.min.js"></script>
  <script src="./js/main.js"></script>

  <script type="x-shader/x-vertex" id="vertexshader">
    attribute float size;
    attribute vec3 customColor;
    varying vec3 vColor;
    void main() {
      vColor = customColor;
      vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
      gl_PointSize = size * ( 300.0 / length( mvPosition.xyz ) );
      gl_Position = projectionMatrix * mvPosition;
    }
  </script>

  <script type="x-shader/x-fragment" id="fragmentshader">
    uniform vec3 color;
    uniform sampler2D texture;
    varying vec3 vColor;
    void main() {
      gl_FragColor = vec4(color * vColor, 1.0);
      gl_FragColor = gl_FragColor * texture2D(texture, gl_PointCoord);
      if(gl_FragColor.a < ALPHATEST)
      discard;
    }
  </script>

  <script>$(brainBuilderViewer.main)</script>

</body>
</html>
